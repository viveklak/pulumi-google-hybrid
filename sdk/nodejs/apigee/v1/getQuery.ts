// *** WARNING: this file was generated by the Pulumi SDK Generator. ***
// *** Do not edit by hand unless you're certain you know what you are doing! ***

import * as pulumi from "@pulumi/pulumi";
import { input as inputs, output as outputs, enums } from "../../types";
import * as utilities from "../../utilities";

/**
 * Get query status If the query is still in progress, the `state` is set to "running" After the query has completed successfully, `state` is set to "completed"
 */
export function getQuery(args: GetQueryArgs, opts?: pulumi.InvokeOptions): Promise<GetQueryResult> {
    if (!opts) {
        opts = {}
    }

    opts = pulumi.mergeOptions(utilities.resourceOptsDefaults(), opts);
    return pulumi.runtime.invoke("google-hybrid:apigee/v1:getQuery", {
        "environmentId": args.environmentId,
        "organizationId": args.organizationId,
        "queryId": args.queryId,
    }, opts);
}

export interface GetQueryArgs {
    environmentId: string;
    organizationId: string;
    queryId: string;
}

export interface GetQueryResult {
    /**
     * Creation time of the query.
     */
    readonly created: string;
    /**
     * Hostname is available only when query is executed at host level.
     */
    readonly envgroupHostname: string;
    /**
     * Error is set when query fails.
     */
    readonly error: string;
    /**
     * ExecutionTime is available only after the query is completed.
     */
    readonly executionTime: string;
    /**
     * Asynchronous Query Name.
     */
    readonly name: string;
    /**
     * Contains information like metrics, dimenstions etc of the AsyncQuery.
     */
    readonly queryParams: outputs.apigee.v1.GoogleCloudApigeeV1QueryMetadataResponse;
    /**
     * Asynchronous Report ID.
     */
    readonly reportDefinitionId: string;
    /**
     * Result is available only after the query is completed.
     */
    readonly result: outputs.apigee.v1.GoogleCloudApigeeV1AsyncQueryResultResponse;
    /**
     * ResultFileSize is available only after the query is completed.
     */
    readonly resultFileSize: string;
    /**
     * ResultRows is available only after the query is completed.
     */
    readonly resultRows: string;
    /**
     * Self link of the query. Example: `/organizations/myorg/environments/myenv/queries/9cfc0d85-0f30-46d6-ae6f-318d0cb961bd` or following format if query is running at host level: `/organizations/myorg/hostQueries/9cfc0d85-0f30-46d6-ae6f-318d0cb961bd`
     */
    readonly self: string;
    /**
     * Query state could be "enqueued", "running", "completed", "failed".
     */
    readonly state: string;
    /**
     * Last updated timestamp for the query.
     */
    readonly updated: string;
}

export function getQueryOutput(args: GetQueryOutputArgs, opts?: pulumi.InvokeOptions): pulumi.Output<GetQueryResult> {
    return pulumi.output(args).apply(a => getQuery(a, opts))
}

export interface GetQueryOutputArgs {
    environmentId: pulumi.Input<string>;
    organizationId: pulumi.Input<string>;
    queryId: pulumi.Input<string>;
}
